(this["webpackJsonpttb-frontend"]=this["webpackJsonpttb-frontend"]||[]).push([[0],{186:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(41),s=n.n(c),r=(n(71),n(17)),i=n(2),l=(n(72),n(8)),o=n.n(l),d=n(13),j=n(6);function b(e,t,n,a){return u.apply(this,arguments)}function u(){return(u=Object(d.a)(o.a.mark((function e(t,n,a,c){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("GET"!==t){e.next=6;break}return e.next=3,fetch(S+n);case 3:s=e.sent,e.next=7;break;case 6:fetch(S+n,{method:t,body:a&&JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 7:return s.status>=400?alert("error : ".concat(s.status)):s.status<400&&c&&alert("succcess"),e.abrupt("return",s.json());case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=n(0);function h(e){var t=e.noteList;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"card",children:[Object(O.jsxs)("header",{className:"card-header",children:[Object(O.jsx)("p",{className:"card-header-title",children:t.title}),Object(O.jsx)("p",{style:{margin:10},children:t&&t.tags.map((function(e){return Object(O.jsxs)("small",{children:[Object(O.jsxs)("a",{href:"#".concat(e.tag),children:["#",e.tag]}),"\xa0"]})}))}),Object(O.jsx)("br",{}),Object(O.jsx)("p",{style:{margin:10},children:t.modifiedAt.slice(0,10)})]}),Object(O.jsx)("div",{className:"card-content",children:Object(O.jsx)("div",{className:"content",children:t.content})})]})})}var p=n(16),m=n(11),x=n(65),f=n.n(x),v=n(42),g=n.n(v);var N=function(e){var t=e.required,n=e.tags,c=e.setTags,s=e.maxTags,r=Object(a.useState)(""),i=Object(j.a)(r,2),l=i[0],o=i[1],d=Object.keys(n);return Object(O.jsxs)("div",{style:{position:"relative"},children:[Object(O.jsx)("input",{style:{paddingRight:"120px"},className:"input",type:"text",required:t&&0===d.length,value:l,"data-testid":"tag-input-box",onChange:function(e){o(e.target.value)},onKeyPress:function(e){if("Enter"===e.key){e.preventDefault();var t=l.split(",").map((function(e){return e.trim().replace(/\s+/g," ")})).filter((function(e){return e&&!n[e]})).reduce((function(e,t){return Object(m.a)(Object(m.a)({},e),{},Object(p.a)({},t,!0))}),{}),a=Object(m.a)(Object(m.a)({},n),t);if(Object.keys(a).length>s)return void alert("".concat(s,"\uac1c\uae4c\uc9c0\ub9cc \uc785\ub825 \uac00\ub2a5\ud569\ub2c8\ub2e4."));c(a),o("")}}}),Object(O.jsxs)("div",{style:{position:"absolute",top:"5px",right:"5px"},children:[Object(O.jsxs)("span",{className:"content has-text-grey-light is-size-7",children:[d.length," \uac1c"]}),"\xa0",Object(O.jsx)("button",{className:"button is-small is-danger",type:"button",onClick:function(){return c({})},children:"\uc804\uccb4 \uc0ad\uc81c"})]}),Object(O.jsxs)("div",{className:g.a.tags,role:"button","data-testid":"tag-container",tabIndex:0,onClick:function(e){var t,a=e.target;if("SPAN"===a.tagName){var s=Object(m.a)({},n);delete s[null!==(t=a.dataset.tag)&&void 0!==t?t:""],c(s)}},children:[t&&(0===d.length||l.length>0)&&Object(O.jsx)("input",{type:"checkbox",required:!0,onInvalid:function(e){e.target.setCustomValidity("\ud0dc\uadf8 \uc791\uc131 \ud6c4, \uc5d4\ud130\ub97c \uc785\ub825\ud558\uc138\uc694.")},style:{position:"absolute",opacity:0}}),Object.keys(n).map((function(e){return Object(O.jsxs)("span",{className:g.a.tag,"data-tag":e,children:[e," \xd7"]},e)}))]})]})},y=(n(180),{toolbar:{container:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"]]},clipboard:{matchVisual:!1}}),k=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"];function T(e){var t=e.isActive,n=e.setIsActive,c=Object(a.useState)(""),s=Object(j.a)(c,2),r=s[0],i=s[1],l=Object(a.useState)({}),u=Object(j.a)(l,2),h=u[0],x=u[1],v=Object(a.useState)({}),g=Object(j.a)(v,2),T=g[0],_=g[1],w=Object(a.useState)(""),C=Object(j.a)(w,2),S=C[0],A=C[1];function E(){n(!t),_({})}function L(){return(L=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b("POST","note",{title:h.title,content:S,tag:Object.keys(T)}),n(!t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"modal ".concat(t&&"is-active"),children:[Object(O.jsx)("div",{className:"modal-background",onClick:E}),Object(O.jsxs)("div",{className:"modal-card",style:{width:1e3},children:[Object(O.jsxs)("header",{className:"modal-card-head",children:[Object(O.jsx)("p",{className:"modal-card-title",children:Object(O.jsx)("input",{className:"input",placeholder:"Modal title",style:{width:"95%"},value:h.title||"",onChange:function(e){return t="title",n=e.target.value,void x(Object(m.a)(Object(m.a)({},h),{},Object(p.a)({},t,n)));var t,n}})}),Object(O.jsx)("button",{className:"delete","aria-label":"close",type:"button",onClick:E})]}),Object(O.jsxs)("section",{className:"modal-card-body",children:[Object(O.jsxs)("div",{className:"field is-horizontal",children:[Object(O.jsx)("span",{className:"span mt-1",children:"Tags : \xa0"}),Object(O.jsx)("div",{className:"field-body",children:Object(O.jsx)("div",{className:"field",children:Object(O.jsx)(N,{required:!0,tags:T,setTags:_,maxTags:5})})})]}),Object(O.jsx)(f.a,{value:S,theme:"snow",onChange:function(e){return A(e)},modules:y,formats:k,placeholder:"\uc544\ubb34\uac70\ub098 \uc785\ub825\ud574 \uc8fc\uc138\uc694"}),"'"]}),Object(O.jsxs)("footer",{className:"modal-card-foot",children:[Object(O.jsx)("input",{className:"input is-warning mr-3",type:"password",placeholder:"password",value:r,onChange:function(e){return i(e.target.value)}}),Object(O.jsx)("button",{className:"button is-success",disabled:"notepw"!==r,type:"button",onClick:function(){return L.apply(this,arguments)},children:"Save"}),Object(O.jsx)("button",{className:"button",type:"button",onClick:E,children:"Cancel"})]})]})]})})}function _(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),r=Object(j.a)(s,2),i=r[0],l=r[1],u=Object(a.useState)(!1),p=Object(j.a)(u,2),m=p[0],x=p[1],f=Object(a.useState)("TOTAL"),v=Object(j.a)(f,2),g=v[0],N=v[1],y=Object(a.useCallback)((function(){return _.apply(this,arguments)}),[]),k=Object(a.useCallback)((function(){return w.apply(this,arguments)}),[]);function _(){return(_=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,b("GET","note",void 0,!1);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("GET","note/tagList",void 0,!1);case 2:t=e.sent.slice(void 0,5),console.log(t),c(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){N(e)}return Object(a.useEffect)((function(){y(),k()}),[y,k]),Object(O.jsxs)("div",{children:[Object(O.jsx)(T,{isActive:m,setIsActive:x}),Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"columns",children:[Object(O.jsx)("div",{className:"column is-2",children:Object(O.jsxs)("aside",{className:"menu",children:[Object(O.jsx)("p",{className:"menu-label",children:"Tag"}),Object(O.jsxs)("ul",{className:"menu-list",children:[Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#TOTAL",style:{color:"TOTAL"===g?"#00d2b4":"black",cursor:"pointer",padding:"2px 15px 2px 15px"},onClick:function(){return C("TOTAL")},children:"TOTAL"})}),n.map((function(e,t){return Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#".concat(e.tag),style:{color:g===e.tag?"#00d2b4":"black",cursor:"pointer",padding:"2px 15px 2px 15px"},onClick:function(){return C(e.tag)},children:"".concat(e.tag," (").concat(e.count,")")})},t)}))]}),Object(O.jsx)("p",{className:"menu-label",children:"Administration"}),Object(O.jsx)("ul",{className:"menu-list",children:Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#write",onClick:function(){return x(!0)},children:"Write Note"})})})]})}),Object(O.jsx)("div",{className:"column",children:("TOTAL"===g?i:i.filter((function(e){return e.tags.filter((function(e){return e.tag===g})).length>0}))).map((function(e){return Object(O.jsx)("div",{style:{margin:"20px auto",width:"70%"},children:Object(O.jsx)(h,{noteList:e})})}))})]})})]})}function w(){return Object(O.jsx)("div",{children:"Tanktwo's Note"})}function C(){return Object(O.jsx)("nav",{className:"navbar",children:Object(O.jsxs)("div",{className:"navbar-menu",children:[Object(O.jsxs)("div",{className:"navbar-start",children:[Object(O.jsx)(r.b,{className:"navbar-item",to:"/ttb_frontend",children:"Home"}),Object(O.jsx)(r.b,{className:"navbar-item",to:"/ttb_frontend/note",children:"Note"})]}),Object(O.jsx)("div",{className:"navbar-end",children:Object(O.jsx)("div",{className:"navbar-item",children:Object(O.jsx)("div",{className:"field is-grouped",children:Object(O.jsx)("p",{className:"control",children:Object(O.jsx)("a",{className:"bd-navbar-icon navbar-item",href:"https://github.com/TankTwo2/ttb_frontend",target:"_blank",rel:"noreferrer",children:Object(O.jsx)("span",{className:"icon",children:Object(O.jsx)("i",{className:"fab fa-lg fa-github-alt"})})})})})})})]})})}var S="https://tanktwo.synology.me:5001/";var A=function(){return console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/ttb_frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://tanktwo.synology.me:5001/"})),Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)("div",{className:"container is-fluid",children:[Object(O.jsx)(C,{}),Object(O.jsx)(i.a,{exact:!0,path:"/ttb_frontend/",component:w}),Object(O.jsx)(i.a,{exact:!0,path:"/ttb_frontend/note",component:_})]})})},E=function(){return Object(O.jsx)(r.a,{children:Object(O.jsx)(A,{})})};s.a.render(Object(O.jsx)(E,{}),document.getElementById("root"))},42:function(e,t,n){e.exports={tags:"style_tags__3M0sG",tag:"style_tag__32DV4"}},71:function(e,t,n){},72:function(e,t,n){}},[[186,1,2]]]);
//# sourceMappingURL=main.6d32099d.chunk.js.map